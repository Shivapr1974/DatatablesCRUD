<html>
	<head>
		<script src="JS/jquery-1.12.3.js"></script>
		<script src="JS/jquery.dataTables.min.js"></script>
		<script src="JS/global.js"></script>
		<script src="JS/csv.js"></script>
		<link rel="stylesheet" type="text/css" href="CSS/jquery.dataTables.min.css"/>
		<link rel="stylesheet" type="text/css" href="CSS/global.css"/>
		<script>
				var table = undefined;
				// [ "<img class=imgdetail  src='IMAGES/edit.png' onclick=\"handleClick('edit', 0)\">", "Tiger Nixon", "System Architect", "Edinburgh", "5421", "2011/04/25", "$320,800" , "<img class=imgdetail  src='IMAGES/delete.png' onclick=\"handleClick('delete', 0)\">" ],

				var dataSet = [
						[ "<img class=imgdetail  src='IMAGES/details.png' onclick=\"handleClick('details', 0)\">", "5421", "Tiger Nixon", "A",  "<img class=imgdetail  src='IMAGES/delete.png' onclick=\"handleClick('delete', 0)\">", "<img class=imgdetail  src='IMAGES/edit.png' onclick=\"handleClick('edit', 0)\">" ],
						[ "<img class=imgdetail  src='IMAGES/details.png' onclick=\"handleClick('details', 1)\">", "8422", "Gart Winter", "B",  "<img class=imgdetail  src='IMAGES/delete.png' onclick=\"handleClick('delete', 1)\">", "<img class=imgdetail  src='IMAGES/edit.png' onclick=\"handleClick('edit', 1)\">" ],		
						[ "<img class=imgdetail  src='IMAGES/details.png' onclick=\"handleClick('details', 2)\">", "8423", "Lary Winter", "B",  "<img class=imgdetail  src='IMAGES/delete.png' onclick=\"handleClick('delete', 2)\">", "<img class=imgdetail  src='IMAGES/edit.png' onclick=\"handleClick('edit', 2)\">" ],		
					];

				$(document).ready(function() {
					setData();
				} );
				function setData(){
					table = $('#example').DataTable( {
									data: dataSet,
									columns: [
										{ title: "Details" },
										{ title: "Number" },
										{ title: "Name" },
										{ title: "Grade" },
										// { title: "Date" },
										// { title: "Community Hours" },
										// { title: "Program Category" },
										{ title: "Delete" },
										{ title: "Edit" },
									]
								} );
				}	
				function reloadData(){
					$('#example').DataTable().clear().destroy();					
					setData();		
				}	
				function formClear() {
					$("#txtRow").val("");
					$("#txtDetails").val("");
					$("#txtID").val("");
					$("#txtName").val("");
					$("#txtGrade").val("");
					// $("#txtDate").val("");
					// $("#txtCommunityHours").val("");
					// $("#txtProgramCategory").val("");
					$("#txtDelete").val("");
					$("#txtEdit").val("");					
				}				
				function saveData() {
					var row = $("#txtRow").val();

					var array = [$("#txtDetails").val(), $("#txtID").val(), $("#txtName").val(), $("#txtGrade").val(), 
								 $("#txtDelete").val(), $("#txtEdit").val()];
					if(row === undefined || row === ""){
						row = dataSet.length;
						dataSet.push(array);
					}else{
						dataSet[row] = array;								 
					}								 
					reloadData();
					formClear();
				}	
				function handleClick(type, row){
						console.log(' TYPE ---------- ' + type);
						const vals = dataSet[row];
						console.log(vals);
						if(type === 'edit'){
							$("#txtRow").val(row);
							$("#txtDetails").val(vals[0]);
							$("#txtID").val(vals[1]);
							$("#txtName").val(vals[2]);
							$("#txtGrade").val(vals[3]);
							// $("#txtDate").val(vals[4]);
							// $("#txtCommunityHours").val(vals[5]);
							// $("#txtProgramCategory").val(vals[6]);
							$("#txtDelete").val(vals[4]);
							$("#txtEdit").val(vals[5]);
						}
						if(type === 'delete'){
							dataSet.splice(row, 1);
							reloadData();
							formClear();
						}	
				}

		</script>
	</head>
	<body>
		<div id="header" class="center">
			
			<div id="title"> 
				<img  id="logo" src="IMAGES/student.jpg" alt="Item added" > 
				Student Management System 
				<div id="name"> Sahana R Krishnan</div>
					
			<br>
			</div>
			<div style="clear: both;"></div>
		</div>

		<br><br><br><br>
		<table id="example" class="display" width="100%">
		</table>
		<!-- <button onclick="reloadData()">Reload</button> -->
		<div id="subtitle" > 
			<hr/>
			<div id="subtitleText" > Add/Edit</div>
			<hr/>
		</div>
		<div class="center"> 
			<form id="frmCadastre">
				<table>
					<input id="txtRow" name="txtRow" type="hidden">				
					<input id="txtDetails" name="txtDetails" type="hidden">				
					<input id="txtEdit" name="txtEdit" type="hidden">				
					<input id="txtDelete" name="txtDelete" type="hidden">				
					<tr>
						<td><label for="txtID">ID:</label></td>
						<td><input type="text" id="txtID" /></td> 
					</tr>
					<tr>
						<td><label for="txtName">Name:</label></td>
						<td><input type="text" id="txtName" /></td> 
					</tr>
					<tr>
						<td><label for="txtGrade">Grade:</label></td>
						<td>
							<!-- <input type="text" id="txtGrade" /> -->
							<select id="txtGrade" style="width:160px;">
								<option value="">Select Grade</option>
								<option value="A">A</option>
								<option value="B">B</option>
								<option value="C">C</option>
								<option value="D">D</option>
								<option value="F">F</option>
							  </select>							
						</td> 
					</tr>
					<!-- <tr>
						<td><label for="txtDate">Date:</label></td>
						<td><input type="text" id="txtDate" /></td> 
					</tr>
					<tr>
					<tr>
						<td><label for="txtCommunityHours">Community Hours:</label></td>
						<td><input type="text" id="txtCommunityHours" /></td> 
					</tr>
					<tr>
					<tr>
						<td><label for="txtProgramCategory">Program Category:</label></td>
						<td><input type="text" id="txtProgramCategory" /></td> 
					</tr> -->

					<tr>											
						<td><input type="button" value="Save" id="btnSave" onclick="saveData()"/></td> 
						<td><input type="button" value="Clear" id="btnClear"  onclick="formClear()"/></td> 
					</tr>
				</table>
			</form>
		</div> 
		<hr/>
		
	</body>	
</html>